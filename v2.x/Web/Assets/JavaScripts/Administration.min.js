var Administration={_lockUserUrl:"",_unlockUserUrl:"",_blockUserUrl:"",_unblockUserUrl:"",_publishUrl:"",set_lockUserUrl:function(A){Administration._lockUserUrl=A},set_unlockUserUrl:function(A){Administration._unlockUserUrl=A},set_blockUserUrl:function(A){Administration._blockUserUrl=A},set_unblockUserUrl:function(A){Administration._unblockUserUrl=A},set_publishUrl:function(A){Administration._publishUrl=A},init:function(){$("#lnkPublish").click(function(){Administration.publish()});$("#lnkChangeRole").click(function(){$("#roleViewSection").hide();$("#roleEditSection").show()});$("#lnkCancelRole").click(function(){$("#roleEditSection").hide();$("#roleViewSection").show()});$("#frmChangeRole").submit(function(){var A={dataType:"json",beforeSubmit:function(B,D,C){$U.disableInputs("#roleEditSection",true);$U.showProgress("Updating role...","#btnChangeRole")},success:function(B){$U.disableInputs("#roleEditSection",false);$U.hideProgress();if(B.isSuccessful){$("#roleEditSection").hide();$("#roleViewSection").show();var C=$("#ddlRoles")[0];$("#spnRole").text(C.options[C.selectedIndex].text)}else{$U.messageBox("Error",B.errorMessage,true)}}};$(this).ajaxSubmit(A);return false});$("#frmAllowIps").submit(function(){var A={dataType:"json",beforeSubmit:function(B,D,C){$U.showProgress("Allowing IpAddresses...","#btnAllowIpAddresses")},success:function(B){$U.hideProgress();if(B.isSuccessful){$U.messageBox("Success","User Ip Addresses allowed.",false)}else{$U.messageBox("Error",B.errorMessage,true)}}};$(this).ajaxSubmit(A);return false})},lockUser:function(B){function A(){var C="id="+encodeURIComponent(B);$.ajax({url:Administration._lockUserUrl,type:"POST",dataType:"json",data:C,beforeSend:function(){$U.showProgress("Locking User...")},success:function(D){$U.hideProgress();if(D.isSuccessful){$("#lnkLockUser").hide();$("#lnkUnlockUser").show()}else{$U.messageBox("Error",D.errorMessage,true)}}})}$U.confirm("Lock User?","Are you sure you want to lock this user?",A)},unlockUser:function(A){function B(){var C="id="+encodeURIComponent(A);$.ajax({url:Administration._unlockUserUrl,type:"POST",dataType:"json",data:C,beforeSend:function(){$U.showProgress("Unlocking User...")},success:function(D){$U.hideProgress();if(D.isSuccessful){$("#lnkUnlockUser").hide();$("#lnkLockUser").show()}else{$U.messageBox("Error",D.errorMessage,true)}}})}$U.confirm("Unlock User?","Are you sure you want to unlock this user?",B)},publish:function(){function A(){$.ajax({url:Administration._publishUrl,type:"POST",dataType:"json",data:"__MVCASYNCPOST=true",beforeSend:function(){$U.showProgress("Publishing stories...")},success:function(B){$U.hideProgress();if(B.isSuccessful){$U.messageBox("Success","Story publishing process completed.",false)}else{$U.messageBox("Error",B.errorMessage,true)}}})}$U.confirm("Publish?","Are you sure you want to publish stories?",A)},dispose:function(){}};